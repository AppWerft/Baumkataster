(function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,g=g.org||(g.org={}),g=g.favo||(g.favo={}),g.promise=f()}})(function(){var define,module,exports;return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!u&&a)return 2===a.length?a(i,!0):a(i);if(s&&2===s.length)return s(i,!0);if(s)return s(i);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[i].exports}var i=Array.prototype.slice;Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{enumerable:!1,configurable:!0,writable:!0,value:function(e){function r(){return t.apply(this instanceof r&&e?this:e,n.concat(i.call(arguments)))}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=this,n=i.call(arguments,1);return r.prototype=Object.create(t.prototype),r.prototype.contructor=r,r}});for(var s="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(require,module,exports){(function(setTimeout){(function(define){define([],function(){"use strict";var freeze=Object.freeze||function(){},IPromise=function(){};IPromise.prototype.resolve,IPromise.prototype.reject,IPromise.prototype.then;var Deferred=function(opt_scope){this.state_=Deferred.State.UNRESOLVED,this.chain_=[],this.scope_=opt_scope||null};Deferred.prototype.state_,Deferred.prototype.chain_,Deferred.prototype.scope_,Deferred.prototype.result_,Deferred.prototype.then=function(callback,errback,progback){return this.chain_.push([callback||null,errback||null,progback||null]),this.state_!==Deferred.State.UNRESOLVED&&this.fire_(),this},Deferred.prototype.resolve=function(value){this.state_=Deferred.State.RESOLVED,this.fire_(value)},Deferred.prototype.reject=function(error){this.state_=Deferred.State.REJECTED,this.fire_(error)},Deferred.prototype.isResolved=function(){return this.state_===Deferred.State.RESOLVED},Deferred.prototype.isRejected=function(){return this.state_===Deferred.State.REJECTED},Deferred.prototype.next=function(callback,errback,opt_interval){var interval=opt_interval||10,deferred=new Deferred(this);return deferred.then(callback,errback),this.then(function(value){setTimeout(function(){deferred.resolve(value)},interval)},function(error){setTimeout(function(){deferred.reject(error)},interval)}),deferred},Deferred.prototype.fire_=function(value){for(var res=this.result_="undefined"==typeof value?this.result_:value;this.chain_.length;){var entry=this.chain_.shift(),fn=this.state_===Deferred.State.REJECTED?entry[1]:entry[0];if(fn)try{res=this.result_=fn.call(this.scope_,res)}catch(e){this.state_=Deferred.State.REJECTED,res=this.result_=e}}},Deferred.State={UNRESOLVED:"unresolved",RESOLVED:"resolved",REJECTED:"rejected"},freeze(Deferred.State);var isPromise=function(arg){return arg&&"function"==typeof arg.then},when=function(var_args){for(var arg,deferred=new Deferred,args=[].slice.call(arguments,0),results=[],callback=function(value){results.push(value),args.length===results.length&&deferred.resolve(results)},errback=function(error){deferred.reject(error)},i=0,len=args.length;i<len;i++)arg=args[i],isPromise(arg)?arg.then(callback,errback).resolve():"function"==typeof arg?new Deferred().then(arg).then(callback,errback).resolve():new Deferred().then(function(){return arg}).then(callback,errback).resolve();;return deferred};return{defer:function(opt_scope){return new Deferred(opt_scope)},isPromise:isPromise,when:when}})})("undefined"==typeof define?"undefined"==typeof module?function(deps,factory){this.Promise=factory()}:function(deps,factory){module.exports=factory()}:define)}).call(this,require("--timers--").setTimeout)},{"--timers--":3}],2:[function(require,module,exports){module.exports=function(){return this}(),module.exports.location={}},{}],3:[function(require,module,exports){(function(global){function clearInterval(intervalId){try{return global.clearInterval(intervalId)}catch(e){return}}function clearTimeout(timeoutId){try{return global.clearTimeout(timeoutId)}catch(e){return}}function setInterval(func,delay){for(var args=[],i=2,l=arguments.length;i<l;++i)args[i-2]=arguments[i];return global.setInterval(function(){func.apply(this,args)},+delay)}function setTimeout(func,delay){for(var args=[],i=2,l=arguments.length;i<l;++i)args[i-2]=arguments[i];return global.setTimeout(function(){func.apply(this,args)},+delay)}module.exports.clearInterval=clearInterval,module.exports.clearTimeout=clearTimeout,module.exports.setInterval=setInterval,module.exports.setTimeout=setTimeout}).call(this,require("--global--"))},{"--global--":2}]},{},[1])(1)});