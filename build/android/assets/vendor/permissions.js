exports.requestPermissions=function(_permissions,_callback){if('android'!=Ti.Platform.osname)return void _callback(!0);var permissions=(Array.isArray(_permissions)?_permissions:[_permissions]).map(function(perm){return perm.match(/^android\.permission\./)?perm:'android.permission.'+perm}),grantedpermissions=0,TiPermissions=Ti.Android;permissions.forEach(function(perm){TiPermissions.hasPermission(perm)&&grantedpermissions++,grantedpermissions==permissions.length&&_callback(!0)}),grantedpermissions<permissions.length&&TiPermissions.requestPermissions(permissions,function(_e){_callback(_e.success)})};